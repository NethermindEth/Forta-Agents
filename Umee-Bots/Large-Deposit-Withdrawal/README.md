# Large Deposit & Withdrawal Monitoring Bot

## Description

This bot detects large deposits and withdrawals in UMEE lending pool.

The bot's behavior can be customized by editing the configuration fields in `src/agent.config.ts`.

## Supported Chains

- Ethereum

## Alerts

- UMEE-8-1

  - Fired when there is a deposit over a defined threshold
  - Severity is always set to "info"
  - Type is always set to "info"
  - Metadata:
    - `user`: The address initiating the deposit
    - `reserve`: The address of the underlying asset of the reserve
    - `valueInUsd`: Total USD value of the deposited underlying asset

- UMEE-8-2
  - Fired when there is a withdrawal over a defined threshold
  - Severity is always set to "info"
  - Type is always set to "info"
  - Metadata:
    - `user`: The address initiating the withdrawal, owner of uTokens
    - `reserve`: The address of the underlyng asset being withdrawn
    - `valueInUsd`: Total USD value of the withdrawn underlying asset

## Test Data

### Mainnet

Uncomment the lines indicated in `src/agent.config.ts` and run:

```
npm run tx 0x0dfdc28377bdb093c35d17be563abee620d9528421a7211d2cc4ba0011c8431f
```

### Kovan Testnet (PoC)

The following test was generated by interacting with PoC contracts (available at the `PoC/` directory) deployed on the Kovan testnet.

In order to check the results, uncomment the lines indicated in `src/agent.config.ts`, set a Kovan testnet RPC (e.g. `https://kovan.poa.network`) as `jsonRpcUrl` in your `forta.config.json` file and,

For Large Deposit, run:

```
npm run tx 0xdeb1ee55f1b8daf297ddd8578422b83f44705ee0fa9f4fbef9d7c258bae831fb
```

For Large Withdrawal, run:

```
npm run tx 0x92767d4e1b7e558b2fb6732b8c07fa85c379b12f48ee212fb51a37a156e14216
```
